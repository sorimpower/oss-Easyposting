@*@model IEnumerable<EasyPosting.Models.EP_POSTS>*@
@model PagedList.IPagedList<EasyPosting.Models.EP_POSTS>
@using PagedList.Mvc;
@{
    ViewBag.Title = "스토리지";
    Layout = null;
}
@Styles.Render("~/Content/fonts")
@*@Styles.Render("~/Content/css")*@
@Scripts.Render("~/bundles/modernizr")
@Scripts.Render("~/bundles/jquery")
@*@Styles.Render("~/Content/storage")
@Scripts.Render("~/bundles/storage")*@
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
<link href="~/assets/plugins/jquery-ui-1.10.4/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
<link href="~/assets/plugins/bootstrap-3.2.0/css/bootstrap.min.css" rel="stylesheet" />
@*<link href="~/assets/plugins/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" />*@
@*<link href="~/assets/css/animate.min.css" rel="stylesheet" />
<link href="~/assets/css/style.min.css" rel="stylesheet" />*@
<link href="~/assets/css/style-responsive.min.css" rel="stylesheet" />

@*<link href="~/assets/plugins/jquery-file-upload/blueimp-gallery/blueimp-gallery.min.css" rel="stylesheet" />*@
@*<link href="~/assets/css/theme/default.css" rel="stylesheet" id="theme" />*@
<style>
      ul {         
          padding:0 0 0 0;
          margin:0 0 0 0;
      }
      ul li {     
          list-style:none;
          margin-bottom:5px;
          margin-left:0px;           
      }
      ul li img {
          cursor: pointer;
      }

</style>
<style>
    .gallery-cont .item {
        width: 25%;
        margin-bottom: 20px;
        padding-right: 10px;
        padding-left: 10px;
    }

        .gallery-cont .item.w2 {
            width: 50%;
        }

    .gallery-cont .photo {
        box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.13);
    }

    .gallery-cont .img {
        position: relative;
    }

        .gallery-cont .img .over .func {
            margin-top: -80px;
            margin-bottom: 30px;
            position: relative;
            top: 50%;
            text-align: center;
            transition: margin-top 200ms ease-in-out;
        }

            .over .func a {
                display: inline-block;
                height: 50px;
                margin-right: 2px;
                width: 50px;
                margin-right: 10px;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 50%;
            }

                .over .func a:hover {
                    background: rgba(255, 255, 255, 0.3);
                }

            .over .func i {
                font-size: 20px;
                color: #FFF;
                line-height: 2.4;
            }

    .img:hover .over {
        opacity: 1;
    }

        .img:hover  {
            margin-top: -25px;
        }

    .gallery-cont .item .head {
        padding: 10px 10px;
        background: #FFF;
    }

        .gallery-cont .item .head h4 {
            margin: 0;
            font-size: 17px;
        }

        .gallery-cont .item .head span {
            color: #BDBDBD;
            font-size: 14px;
        }

            .gallery-cont .item .head span.active {
                color: #38a8ff;
            }

        .gallery-cont .item .head .desc {
            color: #999;
            font-size: 12px;
        }

    .gallery-cont .item img {
        width: 100%;
    }
    /*Photo Hover*/
    .gallery-cont .item .over {
        top: 0;
        opacity: 0;
        position: absolute;
        height: 100%;
        width: 100%;
        background: rgba(36, 148, 242, 0.8);
        transition: opacity 300ms ease;
        -webkit-transition: opacity 300ms ease;
    }

    @@media (max-width: 767px) {
        .gallery-cont .item {
            width: 50%;
        }

            .gallery-cont .item.w2 {
                width: 100%;
            }
    }
</style>
<div class="container">
    <div class="row">
        <div class="col-md-10">          
            <div class="col">
            @using (Html.BeginForm("PPTXEmbed", "Storage", FormMethod.Post))
                 {
                    @Html.AntiForgeryToken()
                    <div class="form-group row">
                        <div class="input-group col-xs-8">
                            <div class="input-group-addon"><i class="fa fa-search"></i> 검색</div>
                            @Html.TextBox("Search_Data", null, new { @required = "yes", @class = "form-control", @placeholder = "검색어를 입력하세요" })
                            <div class="input-group-btn">
                                <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </div>
                 }
            </div>
            @*<table class="table table-responsive table-hover">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Date)
                        작성 일자
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Title)
                        제목
                    </th>
                    <th>
                        @html.DisplayNameFor(model => model.Body)
                        내용
                    </th>
                </tr>*@
            <ul class="row gallery">

                    
                    @foreach (var item in Model)
                    {

                    @*<tr>
                <td>*@
                    @*@Html.DisplayFor(modelItem => item.Date)*@
                    @*</td>
                <td>*@
                    @*@Html.DisplayFor(modelItem => item.Title)*@
                    @*</td>
                <td>*@
                    @*@Html.ActionLink("보기", "DetailsEmbed", new { id = item.ID })*@
                    @*//    </td>
                    //</tr>*@
                    <li class="over col-lg-2 col-md-2 col-sm-3 col-xs-4">
                        @*<a href="@Url.RouteUrl(new { controller = "Editor", action = "Create", id = item.ID })" target="_parent">*@
                    @*@using (Html.BeginForm("Create", "Editor", FormMethod.Get, new { id = "formname" }))
                    {
                        @Html.AntiForgeryToken()*@
                        @*<input type="hidden" name="data1" value="@item.ID" />*@

                        <a class="btn btn-primary" href ="@Url.RouteUrl(new { controller = "Storage", action = "PPTXEmbedDetail", id = item.ID })">
                            <img class="img-responsive img-thumbnail" border="0" style="height:150px; width:240px;" src="@Url.Content("~/User/Posts/Attachment/" + item.Body +".files/slide1.png")" data-name="@Url.Content("~/User/Posts/Attachment/" + item.Body)" alt="@Html.DisplayFor(modelItem => item.Title)" />
                        </a>
                    @*}*@
                    </li>

                    }
                
                @*</table>*@
            </ul>
            <center>
                @Html.PagedListPager(Model, Page_No => Url.Action("PPTXEmbed", new { Page_No, Filter_Value = ViewBag.FilterValue }))
            </center>       
        </div>
    </div>
</div>
    <!-- ================== BEGIN BASE JS ================== -->
@*<script src="~/assets/plugins/jquery-1.8.2/jquery-1.8.2.min.js"></script>*@
<script src="~/assets/plugins/jquery-ui-1.10.4/ui/minified/jquery-ui.min.js"></script>
<script src="~/assets/plugins/bootstrap-3.2.0/js/bootstrap.min.js"></script>
@*<script>
    //$('.container').click(function () {

    //});
    $('.img-thumbnail').click(function () {
        //var src = $(this).attr('src');
        var src = $(this).attr('data-name');        
        //console.log($(this).attr('data-name'));
        //console.log($(this).attr('src'));
        var url = document.location.origin;
        $('#media_data_Image', parent.document).val(url + src);
        parent.$('#widgetMedia_Image').modal('hide');
        //$('#media_data', parent.document).attr('value', src);
    });
</script>*@

<!--[if lt IE 9]>
    <script src="~/assets/crossbrowserjs/html5shiv.js"></script>
    <script src="~/assets/crossbrowserjs/respond.min.js"></script>
    <script src="~/assets/crossbrowserjs/excanvas.min.js"></script>
<![endif]-->
@*<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->*@
@*<script>
  $(document).ready(function(){
           $('li img').on('click',function(){
                var src = $(this).attr('src');
                var img = '<img src="' + src + '" class="img-responsive" />';
                $('#myModal').modal();
                $('#myModal').on('shown.bs.modal', function(){
                    $('#myModal .modal-body').html(img);
                });
                $('#myModal').on('hidden.bs.modal', function(){
                    $('#myModal .modal-body').html('');
                });
           });
        })
        </script>*@